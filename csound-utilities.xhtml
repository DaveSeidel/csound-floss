<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="z3998: http://www.daisy.org/z3998/2012/vocab/structure/#" lang="en" xml:lang="en">
  <head>
    <title>CSOUND UTILITIES</title>
  </head>
  <body><h1>CSOUND UTILITIES</h1><p>Csound comes bundled with a variety of additional utility
applications. These are small programs that perform a single
function, very often with a sound file, that might be useful just
before or just after working with the main Csound program.
Originally these were programs that were run from the command line
but many of Csound front-ends now offer direct access to many of
these utilities through their own utilities menus. It is useful to
still have access to these programs via the command line though, if
all else fails.</p>
<p>The standard syntax for using these programs from the command
line is to type the name of the utility followed optionally by one
or more command line flags which control various performance
options of the program - all of these will have useable defaults
anyway - and finally the name of the sound file upon which the
utility will operate.</p>
<pre>utility_name [flag(s)] [file_name(s)]
</pre>
<p>If we require some help or information about a utility and don't
want to be bothered hunting through the Csound Manual we can just
type the the utility's name with no additional arguments, hit enter
and the commmand line response will give us some information about
that utility and what command line flags it offers. We can also run
the utility through Csound - perhaps useful if there are problems
running the utility directly - by calling Csound with the -U flag.
The -U flag will instruct Csound to run the utility and to
interpret subsequent flags as those of the utility and not its
own.</p>
<pre>Csound -U utility_name [flag(s)] [file_name(s)]
</pre>
<h2>sndinfo</h2>
<p>As an example of invoking one of these utilities from the
command line we shall look at the utility 'sndinfo' (sound
information) which provides the user with some information about
one or more sound files. 'sndinfo' is invoked and provided with a
file name:</p>
<pre>sndinfo /Users/iainmccurdy/sounds/mysound.wav
</pre>
<p>If you are unsure of the file address of your sound file you can
always just drag and drop it into the terminal window. The output
should be something like:</p>
<pre>util sndinfo:
/Users/iainmccurdy/sounds/mysound.wav:
        srate 44100, stereo, 24 bit WAV, 3.335 seconds
        (147078 sample frames)
</pre>
<p>'sndinfo' will accept a list of file names and provide
information on all of them in one go so it may prove more efficient
gleaning the same information from a GUI based sample editor. We
also have the advantage of being able to copy and paste from the
terminal window into a .csd file.</p>
<h2>Analysis Utilities</h2>
<p>Although many of Csound's opcodes already operate upon commonly
encountered sound file formats such as 'wav' and 'aiff', a number
of them require sound information in more specialised and
pre-analysed formats, and for this Csound provides the sound
analysis utilities <a href="http://www.csounds.com/manual/html/UtilityAtsa.html">atsa</a>,
<a href="http://www.csounds.com/manual/html/cvanal.html">cvanal,</a>
<a href="http://www.csounds.com/manual/html/hetro.html">hetro</a>,
<a href="http://www.csounds.com/manual/html/lpanal.html">lpanal</a>
and <a href="http://www.csounds.com/manual/html/pvanal.html">pvanal.</a> By far
the most commonly used of these is <a href="http://www.csounds.com/manual/html/pvanal.html">pvanal</a> which,
although originally written to provide analysis files for <a href="http://www.csounds.com/manual/html/pvoc.html">pvoc</a> and its
generation of opcodes, has now been extended to be able to generate
files in the pvoc-ex (.pvx) format for use with the newer 'pvs'
streaming pvoc opcodes.</p>
<p>This time as well as requiring an input sound file for analysis
we will need to provide a name (and optionally the full address)
for the output file. Using pvanal's command flags we can have full
control over typical FFT conversion parameters such as FFT size,
overlap, window type etc. as well as additional options that may
prove useful such as the ability to select a fragment of a larger
sound file for the analysis. In the following illustration we shall
make use of just one flag, -s, for selecting which channel of the
input sound file to analyse, all other flag values shall assume
their default values which should work fine in most situations.</p>
<pre> pvanal -s1 mysound.wav myanalysis.pvx</pre>
<p><a href="http://www.csounds.com/manual/html/pvanal.html">pvanal</a> will
analyse the first (left if stereo) channel of the input sound file
'mysound.wav' (and in this case as no full address has been
provided it will need to be in either the current working directory
or <a href="http://www.csounds.com/manual/html/CommandEnvironment.html">SSDIR</a>),
and a name has been provided for the output file 'myanalysis.pvx',
which, as no full address has been given, will be placed in the
current working directory. While <a href="http://www.csounds.com/manual/html/pvanal.html">pvanal</a> is
running it will print a running momentary and finally inform us
once the process is complete.</p>
<p>If you use CsoundQT you can have direct access to <a href="http://www.csounds.com/manual/html/pvanal.html">pvanal</a> with
all its options through the 'utilities' button in the toolbar. Once
opened it will reveal a dialogue window looking something like
this:</p>
<p/><div class="group_img"><div class="image"><img src="static/csoundqtpvanal_1.jpg" alt=""/></div></div>
<p>Especially helpful is the fact that we are also automatically
provided with <a href="http://www.csounds.com/manual/html/pvanal.html">pvanal</a>'s
manual page.</p>
<h2>File Conversion Utilities</h2>
<p>The next group of utilities, <a href="http://www.csounds.com/manual/html/het_import.html">het_import</a>,
<a href="http://www.csounds.com/manual/html/het_export.html">het_export</a>,
<a href="http://www.csounds.com/manual/html/pvlook.html">pvlook</a>,
<a href="http://www.csounds.com/manual/html/pv_export.html">pv_export</a>,
<a href="http://www.csounds.com/manual/html/pv_import.html">pv_import</a>,
<a href="http://www.csounds.com/manual/html/sdif2ad.html">sdif2ad</a> and
<a href="http://www.csounds.com/manual/html/srconv.html">srconv</a>
facilitate file conversions between various types. Perhaps the most
interesting of these are <a href="http://www.csounds.com/manual/html/pvlook.html">pvlook</a>, which
prints to the terminal a formatted text version of a <a href="http://www.csounds.com/manual/html/pvanal.html">pvanal</a> file -
useful to finding out exactly what is going on inside individual
analysis bins, something that may be of use when working with the
more advanced resynthesis opcodes such as <a href="http://www.csounds.com/manual/html/pvadd.html">pvadd</a> or
<a href="http://www.csounds.com/manual/html/pvsbin.html">pvsbin</a>.
<a href="http://www.csounds.com/manual/html/srconv.html">srconv</a>
can be used to convert the sample rate of a sound file.</p>
<h2>Miscellaneous Utilities</h2>
<p>A final group gathers together various unsorted utilities:
<a href="http://www.csounds.com/manual/html/cs.html">cs</a>,
<a href="http://www.csounds.com/manual/html/csb64enc.html">csb64enc</a>,
<a href="http://www.csounds.com/manual/html/envext.html">envext</a>,
<a href="http://www.csounds.com/manual/html/extractor.html">extractor</a>,
<a href="http://www.csounds.com/manual/html/makecsd.html">makecsd</a>,
<a href="http://www.csounds.com/manual/html/mixer.html">mixer</a>,
<a href="http://www.csounds.com/manual/html/scaleutility.html">scale</a>
and <a href="http://www.csounds.com/manual/html/mkdb.html">mkdb</a>. Most
interesting of these are perhaps <a href="http://www.csounds.com/manual/html/extractor.html">extractor</a>
which will extract a user defined fragment of a sound file which it
will then write to a new file, <a href="http://www.csounds.com/manual/html/mixer.html">mixer</a> which
mixes together any number of sound files and with gain control over
each file and <a href="http://www.csounds.com/manual/html/scaleutility.html">scale</a>
which will scale the amplitude of an individual sound file.</p>
<h2>Conclusion</h2>
<p>It has been seen that the Csound utilities offer a wealth of
useful, but often overlooked, tools to augment our work with
Csound. Whilst some of these utilities may seem redundant now that
most of us have access to fully featured 3rd-party sound editing
software, it should be borne in mind that many of these utilities
were written in the 1980s and early 90s when such tools were less
readily available.</p>
</body>
</html>
